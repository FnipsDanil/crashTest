# –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Session —Ñ–∞–π–ª–æ–≤ –¥–ª—è Telethon

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å session —Ñ–∞–π–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram —á–µ—Ä–µ–∑ Telethon.

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

Session —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API. –û–¥–∏–Ω session —Ñ–∞–π–ª **–Ω–µ–ª—å–∑—è** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –¥–≤—É—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö (userbot –∏ gifter), –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **–¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö session —Ñ–∞–π–ª–∞**:

1. –û–¥–∏–Ω –¥–ª—è `userbot` (—Å–ª—É—à–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫—ç—à–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
2. –î—Ä—É–≥–æ–π –¥–ª—è `gifter` (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–∞—Ä–∫–∏)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- Telethon

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker (—Å–º. –Ω–∏–∂–µ).

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ API credentials

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://my.telegram.org/apps
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —Å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞
3. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–ª–∏)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **API ID** –∏ **API Hash**

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç

```bash
cd /test-easy/session-generator
python3 generate_session.py
```

### –®–∞–≥ 3: –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ

```
API ID: 21033982
API Hash: 079914024f8e6f7d92babdf13b3de0c9
–ò–º—è —Ñ–∞–π–ª–∞: gifter_session
```

–°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç:
- –í–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –í–≤–µ—Å—Ç–∏ –∫–æ–¥ –∏–∑ Telegram (–ø—Ä–∏–¥–µ—Ç –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏)
- –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ 2FA - –ø–∞—Ä–æ–ª—å

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ session —Ñ–∞–π–ª

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ñ–∞–π–ª `gifter_session.session`.

**–î–ª—è gifter:**
```bash
cp gifter_session.session ../gifter/
```

**–î–ª—è userbot:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –µ—â–µ –æ–¥–∏–Ω session —Å –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–µ–º
python3 generate_session.py
# –í–≤–µ–¥–∏—Ç–µ: userbot_session
cp userbot_session.session ../userbot/
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### ‚ö†Ô∏è –û–¥–∏–Ω session = –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å

**–ù–ï–õ–¨–ó–Ø:**
```
‚ùå userbot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç easygifter_session.session
‚ùå gifter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç easygifter_session.session (—Ç–æ—Ç –∂–µ —Ñ–∞–π–ª)
‚Üí –û–¥–∏–Ω –∏–∑ –Ω–∏—Ö –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!
```

**–ü–†–ê–í–ò–õ–¨–ù–û:**
```
‚úÖ userbot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç userbot_session.session
‚úÖ gifter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç gifter_session.session (–¥—Ä—É–≥–æ–π —Ñ–∞–π–ª/–∞–∫–∫–∞—É–Ω—Ç)
```

### –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ—à–µ–Ω–∏—è:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

- –°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞
- –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ session –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
- userbot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–∏–Ω –∞–∫–∫–∞—É–Ω—Ç
- gifter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–æ–π –∞–∫–∫–∞—É–Ω—Ç

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–¥–∏–Ω –∞–∫–∫–∞—É–Ω—Ç, –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ userbot
- –î–æ–±–∞–≤—å—Ç–µ HTTP API –≤ userbot –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤
- –£–±–µ—Ä–∏—Ç–µ Telethon –∏–∑ gifter
- Gifter –¥–µ–ª–∞–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ userbot

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env —Ñ–∞–π–ª–æ–≤

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è session —Ñ–∞–π–ª–æ–≤, –æ–±–Ω–æ–≤–∏—Ç–µ .env:

### gifter/.env
```env
TG_API_ID=21033982
TG_API_HASH=079914024f8e6f7d92babdf13b3de0c9
SESSION_PATH=gifter_session
```

### userbot/.env
```env
TG_API_ID=21033982
TG_API_HASH=079914024f8e6f7d92babdf13b3de0c9
# SESSION_PATH –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: easygifter_session
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:**
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ session —Ñ–∞–π–ª—ã –≤ git
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ session —Ñ–∞–π–ª—ã —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º
- Session —Ñ–∞–π–ª = –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞–∫–∫–∞—É–Ω—Ç—É
- –•—Ä–∞–Ω–∏—Ç–µ session —Ñ–∞–π–ª—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

Session —Ñ–∞–π–ª—ã —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`:
```
*.session
```

## Troubleshooting

### "FloodWaitError"
–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–ø—ã—Ç–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü–æ–¥–æ–∂–¥–∏—Ç–µ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.

### "SessionPasswordNeededError"
–£ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤–∫–ª—é—á–µ–Ω–∞ 2FA. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å.

### "PhoneNumberInvalidError"
–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: +1234567890

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
$ python3 generate_session.py
============================================================
üîê –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Session —Ñ–∞–π–ª–∞ –¥–ª—è Telethon
============================================================

üìù –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ https://my.telegram.org/apps

API ID: 21033982
API Hash: 079914024f8e6f7d92babdf13b3de0c9

üì± –í–≤–µ–¥–∏—Ç–µ –∏–º—è –¥–ª—è session —Ñ–∞–π–ª–∞
–ò–º—è —Ñ–∞–π–ª–∞: my_gifter

üîÑ –°–æ–∑–¥–∞–Ω–∏–µ session...

üìû –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram...
Please enter your phone (or bot token): +1234567890
Please enter the code you received: 12345
============================================================
‚úÖ Session —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!
============================================================

üìÅ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω: my_gifter.session

üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ:
   - –ò–º—è: John Doe
   - Username: @johndoe
   - ID: 123456789
   - –¢–µ–ª–µ—Ñ–æ–Ω: +1234567890

üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:
   1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª 'my_gifter.session' –≤ –Ω—É–∂–Ω—É—é –ø–∞–ø–∫—É
   2. –î–ª—è gifter: cp my_gifter.session ../gifter/
   3. –î–ª—è userbot: cp my_gifter.session ../userbot/

‚úÖ –ì–æ—Ç–æ–≤–æ!
```
